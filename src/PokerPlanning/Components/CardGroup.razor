@using PokerPlanning.Models;

@if (room is not null && player is not null)
{
    <fieldset disabled=@room.CardsAreRevealed>
        @{
            foreach (var cardValue in room.CardValues)
            {
                <Card Value="@cardValue" Active="@(cardValue == player.Card)" OnClick="() => CardClick(cardValue)" Disabled="room.CardsAreRevealed" />
            }

        }
    </fieldset>
}

@code {

    [Parameter] public Room? room { get; set; }
    [Parameter] public Player? player { get; set; }

    void CardClick(string cardValue)
    {
        if (player is null)
            return;

        player.Card = cardValue;
    }
}
